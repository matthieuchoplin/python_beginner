<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Session 4</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/simple.css" id="theme">
		<!-- Custom css -->
        <link rel="stylesheet" href="css/custom.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h2>Introduction to programming using Python</h2>
					<h3>Session 4</h3>
                    <p>Matthieu Choplin</p>
                    <p><a href='http://mattchoplin.com/'>http://mattchoplin.com/</a></p>
				</section>

				<section data-markdown>
### Objectives of Session 4
* Remainder of Session 3: Quiz
* Getting to know Pycharm
* Functions
* Modularity
* Debugging using the pdb library
				</section>

				<section data-markdown>
### Remainder of Session 3: Quiz (1)

* What is the difference between the keywords *break* and *continue*?
				</section>

				<section data-markdown>
### Remainder of Session 3: Quiz (2)

* What is the difference between range(10), range(0, 10), and range(0, 10, 1) in a for loop?
				</section>

                <section>
                    <h3>Pycharm</h3>
					<ul>
                        <li>To execute python scripts from Pycharm, you need to define an interpreter: File/Settings/Project/Project Interpreter</li>
					</ul>
				</section>

				<section>
                    <h3 style="margin-bottom: 0px;">Built in functions seen so far</h3>
					<table style="width:100%">
					  <tr>
						<th>Input/Ouput</th>
						<th>Conversion type:</th>
						<th>Introspection:</th>
					  </tr>
					  <tr>
						<td>input()</td>
						<td>int()</td>
						<td>type()</td>
					  </tr>
					  <tr>
						<td>print()</td>
						<td>float()</td>
						<td></td>
					  </tr>
					</table>
					<p>All the built in functions:
						<a target="_blank" href="https://docs.python.org/3.6/library/functions.html">https://docs.python.org/3.6/library/functions.html</a></p>
				</section>
				<section>
                    <h3>Defining our own function</h3>
                    <p>To define a function, we use the keyword <strong>def</strong>, the name of the function, the brackets, and the colon</p>
                    <p>Then the body of the function needs to be indented</p>
                    <pre class="solution-content python"><code data-trim data-noescape>def name_of_the_function():
    # body of the function</code></pre>
                    <p>When we define a function, we just make python see that the function exist but it is not executed</p>
                    <pre class="solution-content python"><code data-trim data-noescape>def my_function():
  print("THIS IS MY FUNCTION")
                    </code></pre>
				</section>
				<section>
                    <h3>Calling our own function</h3>
                    <p>To call or execute or run a function, we use the name of the function AND the brackets, without the brackets, the function is not called.</p>
                    <pre class="solution-content python"><code data-trim data-noescape>name_of_the_function()</code></pre>
                    <p>Notice the difference between defining and calling a function</p>
                    <pre class="solution-content python"><code data-trim data-noescape>def my_function():
  print("THIS IS MY FUNCTION")

my_function()</code></pre>				</section>

                <section>
                    <h3>Defining and Calling Functions</h3>
                    <p>A function is a collection of statements that are grouped together to perform an operation.</p>
                    <img src="imgs/function_def.png" style="background:none; border:none; box-shadow:none; margin-top:0px;" />
				</section>

                <section>
                    <h3>How a function gets called</h3>
                    <iframe width=100% height="500" frameborder="0" src="http://pythontutor.com/iframe-embed.html#code=def+max(num1,+num2%29%3A%0D%0A++++%23+Return+the+max+between+two+numbers+%0D%0A++++if+num1+%3E+num2%3A%0D%0A++++++++result+%3D+num1%0D%0A++++else%3A%0D%0A++++++++result+%3D+num2%0D%0A%0D%0A++++return+result%0D%0A%0D%0Adef+main(%29%3A%0D%0A++++i+%3D+5%0D%0A++++j+%3D+2%0D%0A++++k+%3D+max(i,+j%29+%23+Call+the+max+function%0D%0A++++print(%22The+maximum+between%22,+i,+%22and%22,+j,+%22is%22,+k%29%0D%0A%0D%0Amain(%29+%23+Call+the+main+function%0D%0A&origin=opt-frontend.js&cumulative=false&heapPrimitives=false&textReferences=false&py=3&rawInputLstJSON=%5B%5D&curInstr=0&codeDivWidth=350&codeDivHeight=400"> </iframe>
                </section>

                <section>
                    <h3>Functions With/Without Return Values</h3>
                    <ul>
                        <li>A function with the <strong>return</strong> keyword explicitly return a <strong>value</strong>. For example the function max() in the previous program.</li>
                        <li>A function <strong>does something</strong> but does not return a value. For example the function main() in the previous program.</li>
                    </ul>
                </section>

                <section>
                    <h3>Example of a function that does something without returning a value</h3>
                    <pre class="solution-content python"><code data-trim data-noescape style="line-height: 100%;font-size: 24px;margin-top: 0px; margin-bottom: 0px;">def printGrade(score):
    # Print grade for the score
    if score >= 90.0:
        print('A')
    elif score >= 80.0:
        print('B')
    elif score >= 70.0:
        print('C')
    elif score >= 60.0:
        print('D')
    else:
        print('F')

def main():
    score = eval(input("Enter a score: "))
    print("The grade is ", end = "")
    printGrade(score)

main() # Call the main function</code></pre>
                </section>

                <section>
                    <h3>Example of a function that returns a value</h3>
                    <pre class="solution-content python"><code data-trim data-noescape style="line-height: 100%;font-size: 24px;margin-top: 0px; margin-bottom: 0px;">def getGrade(score):
    # Return the grade for the score
    if score >= 90.0:
        return 'A'
    elif score >= 80.0:
        return 'B'
    elif score >= 70.0:
        return 'C'
    elif score >= 60.0:
        return 'D'
    else:
        return 'F'

def main():
    score = eval(input("Enter a score: "))
    print("The grade is", getGrade(score))

main() # Call the main function
</code></pre>
                </section>

                <section>
                    <h3>The None Value</h3>
                    <p>A function that does not return a value is known as a void function.  In Python, such function returns a special None.</p>
                    <pre class="solution-content python"><code data-trim data-noescape style="line-height: 100%;font-size: 24px;margin-top: 0px; margin-bottom: 0px;">def sum(number1, number2):
    total = number1 + number2

print(sum(1, 3))</code></pre>
                </section>

                <section>
                    <h3>Passing Arguments by Positions</h3>
                    <p>Suppose you have the following function:</p>
                    <pre class="solution-content python"><code data-trim data-noescape style="line-height: 100%;font-size: 24px;margin-top: 0px; margin-bottom: 0px;">def nPrintln(message, n):
    for i in range(0, n):
        print(message)</code></pre>
                    <p>What is the output of <strong>nPrintln("Welcome to Python", 5)</strong>?</p>
                    <p>What is the output of <strong>nPrintln(15, "Computer Science")</strong>?</p>
                    <p>What is wrong? How to fix?</p>
                </section>

                <section>
                    <h3>Keyword Arguments</h3>
                    <p>With the same function:</p>
                    <pre class="solution-content python"><code data-trim data-noescape style="line-height: 100%;font-size: 24px;margin-top: 0px; margin-bottom: 0px;">def nPrintln(message, n):
    for i in range(0, n):
        print(message)</code></pre>
                    <p>What is the output of <strong>nPrintln(message="Welcome to Python", n=5)</strong></p>
                    <p>What is the output of <strong>nPrintln(n = 4, message = "Computer Science")</strong></p>
                    <p>What is wrong? How to fix?</p>
                </section>

                <section>
                    <h3>Default Arguments</h3>
                    <p>Python allows you to define functions with default argument values. The default values are passed to the parameters when a function is invoked without the arguments.</p>
                    <pre class="solution-content python"><code data-trim data-noescape style="line-height: 100%;font-size: 24px;margin-top: 0px; margin-bottom: 0px;">def printArea(width = 1, height = 2):
    area = width * height
    print("width:", width, "\theight:", height, "\tarea:", area)

printArea() # Default arguments width = 1 and height = 2
printArea(4, 2.5) # Positional arguments width = 4 and height = 2.5
printArea(height = 5, width = 3) # Keyword arguments width
printArea(width = 1.2) # Default height = 2
printArea(height = 6.2) # Default widht = 1
</code></pre>
                </section>

                <section>
                    <h3>Modularizing Code (1)</h3>
                    <p>We can make use of existing builtin modules/libraries</p>
                    <p>For example, you can use the *random* library</p>
                    <p>To get the list of all available modules, checkout the *help()* interactive function</p>
                </section>

				<section>
                    <h3>Exercise: Guess Number</h3>
					<p>Make a program to ask the user to guess the number that has been randomly generated.</p>
					<p>Start from this file: <a href="exercises/GuessNumber.py">GuessNumber.py</a> (right click and save as)</p>
					<ul>
						<li>The user will be able to try continuously until he finds the correct number.</li>
						<li>The program will stop as soon as the number is found, i.e. as soon as the random number matches the entered number</li>
						<li>At each iteration, i.e. each time the user tries a number and presses enter, the program will say if the number is too high, too low or correct</li>
					</ul>
				</section>
				<section>
                    <h3>Solution: Guess Number</h3>
                    <div class="solution">
                        <p class="show-solution"><i class="fa fa-eye" aria-hidden="true"></i>Show solution</p>
                        <p class="hide-solution"><i class="fa fa-eye-slash" aria-hidden="true"></i>Hide solution</p>
                        <pre class="solution-content python"><code>import random

# Generate a random number to be guessed
number = random.randint(1, 100)

def guess_number():
    print("Guess a magic number between 0 and 100")
    guess = -1
    while guess != number:
        guess = int(input("Enter your guess: "))
        if guess == number:
            print("Yes, the number is", number)
        elif guess > number:
            print("Your guess is too high")
        else:
            print("Your guess is too low")
guess_number()
                        </code></pre>
                </div>
				</section>

                <section>
                    <h3>Modularizing Code (2)</h3>
                    <p>Functions can be used to reduce redundant coding and enable code reuse. Functions can also be used to modularize code and improve the quality of the program.</p>
                    <p>A python file is called a module, you can import a module</p>
                    <p>Example, download the following files and put them in the same directory (right click and save as): </p>
                    <ul>
                        <li><a href="exercises/GCDFunction.py">GCDFunction.py</a></li>
                        <li><a href="exercises/TestGCDFunction.py">TestGCDFunction.py</a></li>
                    </ul>
                </section>

                <section>
                    <h3>Exercise: Use the isPrime Function</h3>
                    <p>The program <a href="exercises/PrimeNumberFunction.py">PrimeNumberFunction.py</a> (right click and save as) provides the isPrime(number) function for testing whether a number is prime.</p>
                    <p>Use this function to find the number of prime numbers less than 10,000.</p>
                    <ul>
                        <li>Reuse the function in the same file</li>
                        <li>Import the function in an other file</li>
                    </ul>
                </section>

                <section>
                    <p>Using the function in the same file</p>
                    <div class="solution">
						<p class="show-solution"><i class="fa fa-eye" aria-hidden="true"></i>Solution</p>
						<p class="hide-solution" style="margin-top: 0px; margin-bottom: 0px;"><i class="fa fa-eye-slash" aria-hidden="true"></i>Hide solution</p>
						<pre class="solution-content python"><code data-trim data-noescape>def main():
    count = 0
    N = 10000
    for number in range(2, N):
        if isPrime(number):
            count += 1
    print("The number of prime number <", 10000, "is", count)

# Check whether number is prime
def isPrime(number):
    for divisor in range(2, number // 2 + 1):
        if number % divisor == 0: # If true, number is not prime
            return False # number is not a prime
    return True # number is prime

main()</code></pre></div>
                </section>

                <section>
                    <p>Import the function from an other file</p>
                    <div class="solution">
						<p class="show-solution"><i class="fa fa-eye" aria-hidden="true"></i>Solution</p>
						<p class="hide-solution" style="margin-top: 0px; margin-bottom: 0px;"><i class="fa fa-eye-slash" aria-hidden="true"></i>Hide solution</p>
						<pre class="solution-content python"><code data-trim data-noescape>from PrimeNumberFunction import isPrime

def main():
    count = 0
    N = 10000
    for number in range(2, N):
        if isPrime(number):
            count += 1

    print("The number of prime number <", 10000, "is", count)

main()
</code></pre></div>
                </section>

                <section>
                    <h3>Using a check to avoid executing the script when we import it</h3>
                    <pre><code data-trim data-noescape>def bla():
    print('bla')

if __name__ == '__main__':
    bla()
</code></pre>
                    <p>This is checking if the file is executed directly or if it imported</p>
                    <p>Download these 2 files: <a href="exercises/ex.py">ex.py</a> and <a href="exercises/some_lib.py">some_lib.py</a>(right click and save as) and place them in the same directory</p>
                </section>

				<section>
					<h3>Debugging</h3>
					<ul>
						<li>What is the program supposed to do?</li>
						<li>Is it doing what it is expected to do?</li>
						<li>Why not? Investigate...</li>
					</ul>
				</section>
                <section>
                    <h3>2 ways of debugging</h3>
                    <ul>
                        <li>Naive debugging</li>
						<ul>
							<li>Use the <strong>print()</strong> function, sometimes it is enough</li>
						</ul>
						<li>Smarter debugging</li>
						<ul>
							<li>Use a debugger, i.e. <strong>pdb</strong> and insert a <strong>breakpoint</strong></li>
							<li>A breakpoint is an intentional stopping or pausing place in a program. It is also sometimes simply referred to as a pause.</li>
							<li>You set it by writing the following within your program</li>
							<div><pre class="solution-content python"><code>import pdb; pdb.set_trace()</code></pre></div>
						</ul>
                    </ul>
                </section>

                <section>
                    <h3>Commands for using pdb</h3>
                    <ul style="line-height: 100%;">
                        <li>list (<strong>l</strong>) List 11 lines around the current line (five before and five after). Using list with a single numerical argument lists 11 lines around that line instead of the current line.</li>
                        <li>next (<strong>n</strong>) Execute the next line in the file. This allows you to go line by line and inspect the state of the code at that point.</li>
                        <li>continue (<strong>c</strong>) Exit out of the debugger but still execute the code.</li>
						<li>step into (<strong>s</strong>) to go into the execution call of an other function</li>
                    </ul>
					<p>To go further: <a href="https://pymotw.com/3/pdb/">https://pymotw.com/3/pdb/</a> </p>
                </section>

                <section>
                    <h3>Documentation Strings (Docstring)</h3>
                    <pre><code data-trim data-noescape>def my_function():
    """Do nothing, but document it.
    No, really, it doesn't do anything.
    """
    pass

help(my_function)
</code></pre>
                </section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,
				slideNumber: true,
				center: false,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/menu/menu.js' },
					{ src: 'plugin/jquery-2.0.0.min.js' },
					{ src: 'plugin/skulpt.min.js' },
					{ src: 'plugin/skulpt-stdlib.js' },
					{ src: 'plugin/custom.js' },

				]
			});
		</script>
	</body>
</html>
